

#ifndef HUF_NVM_HEADER_
#define HUF_NVM_HEADER_

#define NVM_CATEGORY_01                  0U
#define NVM_CATEGORY_02                  1U
#define NVM_CATEGORY_03                  2U
#define NVM_CATEGORY_04                  3U
#define NVM_CATEGORY_05                  4U
#define NVM_CATEGORY_06                  5U
#define NVM_CATEGORY_07                  6U
#define NVM_CATEGORY_08                  7U
#define NVM_CATEGORY_09                  8U
#define NVM_CATEGORY_10                  9U

         //RST: this table is not
         //up to date

#define NVM_CAT01_NUMBER_OF_MEMBERS 10U

#define NVM_CAT01_IDX01_REAL_SIZE    1U
#define NVM_CAT01_IDX02_REAL_SIZE   25U
#define NVM_CAT01_IDX03_REAL_SIZE    4U
#define NVM_CAT01_IDX04_REAL_SIZE    1U
#define NVM_CAT01_IDX05_REAL_SIZE    2U
#define NVM_CAT01_IDX06_REAL_SIZE    8U
#define NVM_CAT01_IDX07_REAL_SIZE    5U
#define NVM_CAT01_IDX08_REAL_SIZE    1U
#define NVM_CAT01_IDX09_REAL_SIZE    1U         //RST NVM ok
#define NVM_CAT01_IDX10_REAL_SIZE    4U
//#define NVM_CAT01_IDX09_REAL_SIZE    1U
//#define NVM_CAT01_IDX10_REAL_SIZE    1U
//#define NVM_CAT01_IDX11_REAL_SIZE    1U
//#define NVM_CAT01_IDX12_REAL_SIZE    1U
//#define NVM_CAT01_IDX13_REAL_SIZE    1U

#define NVM_CAT01_SIZE_BYTES (NVM_CAT01_IDX01_REAL_SIZE + \
                              NVM_CAT01_IDX02_REAL_SIZE + \
                              NVM_CAT01_IDX03_REAL_SIZE + \
                              NVM_CAT01_IDX04_REAL_SIZE + \
                              NVM_CAT01_IDX05_REAL_SIZE + \
                              NVM_CAT01_IDX06_REAL_SIZE + \
                              NVM_CAT01_IDX07_REAL_SIZE + \
                              NVM_CAT01_IDX08_REAL_SIZE + \
                              NVM_CAT01_IDX09_REAL_SIZE + \
                              NVM_CAT01_IDX10_REAL_SIZE)

#define NVM_CAT02_IDX01              0U
#define NVM_CAT02_IDX02              1U
#define NVM_CAT02_IDX03              2U
#define NVM_CAT02_IDX04              3U
#define NVM_CAT02_IDX05              4U
#define NVM_CAT02_IDX06              5U
#define NVM_CAT02_IDX07              6U
#define NVM_CAT02_IDX08              7U
#define NVM_CAT02_IDX09              8U
#define NVM_CAT02_IDX10              9U
#define NVM_CAT02_IDX11             10U
#define NVM_CAT02_IDX12             11U

#define NVM_CAT02_NUMBER_OF_MEMBERS 12U

#define NVM_CAT02_IDX01_REAL_SIZE    1U
#define NVM_CAT02_IDX02_REAL_SIZE    1U
#define NVM_CAT02_IDX03_REAL_SIZE   10U
#define NVM_CAT02_IDX04_REAL_SIZE   10U
#define NVM_CAT02_IDX05_REAL_SIZE   10U
#define NVM_CAT02_IDX06_REAL_SIZE    1U
#define NVM_CAT02_IDX07_REAL_SIZE    1U
#define NVM_CAT02_IDX08_REAL_SIZE    1U
#define NVM_CAT02_IDX09_REAL_SIZE    1U
#define NVM_CAT02_IDX10_REAL_SIZE    1U
#define NVM_CAT02_IDX11_REAL_SIZE    3U
#define NVM_CAT02_IDX12_REAL_SIZE   12U

#define NVM_CAT02_SIZE_BYTES (NVM_CAT02_IDX01_REAL_SIZE + \
                              NVM_CAT02_IDX02_REAL_SIZE + \
                              NVM_CAT02_IDX03_REAL_SIZE + \
                              NVM_CAT02_IDX04_REAL_SIZE + \
                              NVM_CAT02_IDX05_REAL_SIZE + \
                              NVM_CAT02_IDX06_REAL_SIZE + \
                              NVM_CAT02_IDX07_REAL_SIZE + \
                              NVM_CAT02_IDX08_REAL_SIZE + \
                              NVM_CAT02_IDX09_REAL_SIZE + \
                              NVM_CAT02_IDX10_REAL_SIZE + \
                              NVM_CAT02_IDX11_REAL_SIZE + \
                              NVM_CAT02_IDX12_REAL_SIZE)

            //RST: this table is not
            //up to date

#define NVM_CAT03_IDX01              0U
#define NVM_CAT03_IDX02              1U

#define NVM_CAT03_NUMBER_OF_MEMBERS 11U

#define NVM_CAT03_IDX01_REAL_SIZE   16U
#define NVM_CAT03_IDX02_REAL_SIZE    4U
#define NVM_CAT03_IDX03_REAL_SIZE   25U
#define NVM_CAT03_IDX04_REAL_SIZE    2U
#define NVM_CAT03_IDX05_REAL_SIZE    1U
#define NVM_CAT03_IDX06_REAL_SIZE    1U
#define NVM_CAT03_IDX07_REAL_SIZE    1U
#define NVM_CAT03_IDX08_REAL_SIZE    1U
//#define NVM_CAT03_IDX05_REAL_SIZE    1U       //RST NVM ok
//#define NVM_CAT03_IDX06_REAL_SIZE    1U
//#define NVM_CAT03_IDX07_REAL_SIZE    1U
//#define NVM_CAT03_IDX08_REAL_SIZE    1U
#define NVM_CAT03_IDX09_REAL_SIZE   41U
#define NVM_CAT03_IDX10_REAL_SIZE    2U
#define NVM_CAT03_IDX11_REAL_SIZE    2U

#define NVM_CAT03_SIZE_BYTES (NVM_CAT03_IDX01_REAL_SIZE + \
                              NVM_CAT03_IDX02_REAL_SIZE + \
                              NVM_CAT03_IDX03_REAL_SIZE + \
                              NVM_CAT03_IDX04_REAL_SIZE + \
                              NVM_CAT03_IDX05_REAL_SIZE + \
                              NVM_CAT03_IDX06_REAL_SIZE + \
                              NVM_CAT03_IDX07_REAL_SIZE + \
                              NVM_CAT03_IDX08_REAL_SIZE + \
                              NVM_CAT03_IDX09_REAL_SIZE + \
                              NVM_CAT03_IDX10_REAL_SIZE + \
                              NVM_CAT03_IDX11_REAL_SIZE)

#define NVM_CAT04_IDX01              0U
#define NVM_CAT04_IDX02              1U
#define NVM_CAT04_IDX03              2U
#define NVM_CAT04_IDX04              3U
#define NVM_CAT04_IDX05              4U

#define NVM_CAT04_NUMBER_OF_MEMBERS 5U

#define NVM_CAT04_IDX01_REAL_SIZE    1U
#define NVM_CAT04_IDX02_REAL_SIZE    1U
#define NVM_CAT04_IDX03_REAL_SIZE    1U
#define NVM_CAT04_IDX04_REAL_SIZE    1U
#define NVM_CAT04_IDX05_REAL_SIZE   16U

#define NVM_CAT04_SIZE_BYTES (NVM_CAT04_IDX01_REAL_SIZE + \
                              NVM_CAT04_IDX02_REAL_SIZE + \
                              NVM_CAT04_IDX03_REAL_SIZE + \
                              NVM_CAT04_IDX04_REAL_SIZE + \
                              NVM_CAT04_IDX05_REAL_SIZE)

           //RST: this table is not
           //up to date

#define NVM_CAT05_IDX01              0U
#define NVM_CAT05_IDX02              1U
#define NVM_CAT05_IDX03              2U
#define NVM_CAT05_IDX04              3U
#define NVM_CAT05_IDX05              4U
#define NVM_CAT05_IDX06              5U
#define NVM_CAT05_IDX07              6U
#define NVM_CAT05_IDX08              7U
#define NVM_CAT05_IDX09              8U
#define NVM_CAT05_IDX10              9U

#define NVM_CAT05_NUMBER_OF_MEMBERS 10U

#define NVM_CAT05_IDX01_REAL_SIZE    1U
#define NVM_CAT05_IDX02_REAL_SIZE    1U      //RST NVM ok
#define NVM_CAT05_IDX03_REAL_SIZE    1U
#define NVM_CAT05_IDX04_REAL_SIZE    1U
#define NVM_CAT05_IDX05_REAL_SIZE    1U
#define NVM_CAT05_IDX06_REAL_SIZE    1U
#define NVM_CAT05_IDX07_REAL_SIZE    1U
#define NVM_CAT05_IDX08_REAL_SIZE    1U
#define NVM_CAT05_IDX09_REAL_SIZE    1U
#define NVM_CAT05_IDX10_REAL_SIZE   39U
//#define NVM_CAT05_IDX02_REAL_SIZE    1U
//#define NVM_CAT05_IDX03_REAL_SIZE   46U

#define NVM_CAT05_SIZE_BYTES  (NVM_CAT05_IDX01_REAL_SIZE + \
                               NVM_CAT05_IDX02_REAL_SIZE + \
                               NVM_CAT05_IDX03_REAL_SIZE + \
                               NVM_CAT05_IDX04_REAL_SIZE + \
                               NVM_CAT05_IDX05_REAL_SIZE + \
                               NVM_CAT05_IDX06_REAL_SIZE + \
                               NVM_CAT05_IDX07_REAL_SIZE + \
                               NVM_CAT05_IDX08_REAL_SIZE + \
                               NVM_CAT05_IDX09_REAL_SIZE + \
                               NVM_CAT05_IDX10_REAL_SIZE)

#define NVM_CAT06_NUMBER_OF_MEMBERS 9U

#define NVM_CAT06_IDX01_REAL_SIZE   1U
#define NVM_CAT06_IDX02_REAL_SIZE   1U
#define NVM_CAT06_IDX03_REAL_SIZE   1U
#define NVM_CAT06_IDX04_REAL_SIZE   1U
#define NVM_CAT06_IDX05_REAL_SIZE   1U
#define NVM_CAT06_IDX06_REAL_SIZE   1U
#define NVM_CAT06_IDX07_REAL_SIZE   1U
#define NVM_CAT06_IDX08_REAL_SIZE   1U
#define NVM_CAT06_IDX09_REAL_SIZE   40U

#define NVM_CAT06_SIZE_BYTES       (NVM_CAT06_IDX01_REAL_SIZE + \
                                    NVM_CAT06_IDX02_REAL_SIZE + \
                                    NVM_CAT06_IDX03_REAL_SIZE + \
                                    NVM_CAT06_IDX04_REAL_SIZE + \
                                    NVM_CAT06_IDX05_REAL_SIZE + \
                                    NVM_CAT06_IDX06_REAL_SIZE + \
                                    NVM_CAT06_IDX07_REAL_SIZE + \
                                    NVM_CAT06_IDX08_REAL_SIZE + \
                                    NVM_CAT06_IDX09_REAL_SIZE)

//#define NVM_CAT06_NUMBER_OF_MEMBERS 1U
//
//#define NVM_CAT06_IDX01_REAL_SIZE   48U
//#define NVM_CAT06_SIZE_BYTES       (NVM_CAT06_IDX01_REAL_SIZE)

#define NVM_CAT07_NUMBER_OF_MEMBERS 1U

#define NVM_CAT07_IDX01_REAL_SIZE   24U
#define NVM_CAT07_SIZE_BYTES       (NVM_CAT07_IDX01_REAL_SIZE)

#define NVM_CAT08_NUMBER_OF_MEMBERS 1U

#define NVM_CAT08_IDX01_REAL_SIZE   24U
#define NVM_CAT08_SIZE_BYTES       (NVM_CAT08_IDX01_REAL_SIZE)

#define NVM_CAT09_NUMBER_OF_MEMBERS 1U

#define NVM_CAT09_IDX01_REAL_SIZE   32U
#define NVM_CAT09_SIZE_BYTES       (NVM_CAT09_IDX01_REAL_SIZE)

#define NVM_CAT10_IDX01              0U
#define NVM_CAT10_IDX02              1U
#define NVM_CAT10_IDX03              2U
#define NVM_CAT10_IDX04              3U

#define NVM_CAT10_NUMBER_OF_MEMBERS 4U

#define NVM_CAT10_IDX01_REAL_SIZE   1U
#define NVM_CAT10_IDX02_REAL_SIZE   1U
#define NVM_CAT10_IDX03_REAL_SIZE   1U
#define NVM_CAT10_IDX04_REAL_SIZE   1U

#define NVM_CAT10_SIZE_BYTES       (NVM_CAT10_IDX01_REAL_SIZE + \
                                    NVM_CAT10_IDX02_REAL_SIZE + \
                                    NVM_CAT10_IDX03_REAL_SIZE + \
                                    NVM_CAT10_IDX04_REAL_SIZE  )

#ifdef NVMc
void ReadBlock2Member(uint8 ui8Categ, uint8 ui8Member, uint8 * pui8Target);
void WriteMember2Blocks(uint8 ui8Categ, uint8 ui8Member, uint8 * pui8Target);
void InitEEAll(void);
void EE_InconsistencyHandling(uint16 uiNvmCategoryConsistence);

#else

//extern uint8  NvM_ReadBlock(uint16,uint16,NVM_BLOCK_TYPE*);
//extern uint8  NvM_WriteBlock(uint16,uint16,const NVM_BLOCK_TYPE*);
//extern uint16 GetMemberSize(uint8,uint16);
//extern void   NvM_Member_Data_Write(const uint8 *,uint16,uint8,uint16);
//extern void   NvM_Member_Data_Read(uint8 *,uint16,uint8,uint16);

extern void InitEEAll(void);
extern void ReadBlock2Member(uint8 ui8Categ, uint8 ui8Member, uint8 * pui8Target);
extern void WriteMember2Blocks(uint8 ui8Categ, uint8 ui8Member, uint8 * pui8Target);
extern void EE_InconsistencyHandling(uint16 uiNvmCategoryConsistence);

#endif

#endif

